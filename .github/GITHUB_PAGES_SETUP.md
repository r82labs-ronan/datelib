# GitHub Pages Setup

This document explains how to enable GitHub Pages for the datelib repository to host the API documentation.

## Prerequisites

The repository must already have the documentation generation workflow configured (`.github/workflows/generate-docs.yml`).

## Setup Steps

### 1. Enable GitHub Pages

1. Go to your repository on GitHub
2. Click on **Settings** (in the repository, not your account)
3. In the left sidebar, click on **Pages** (under "Code and automation")

### 2. Configure Source

Under **Build and deployment**:

1. **Source**: Select **Deploy from a branch**
2. **Branch**: 
   - Select **gh-pages** from the dropdown
   - Select **/ (root)** as the folder
   - Click **Save**

### 3. Wait for Deployment

- GitHub Pages will automatically deploy after you save the settings
- The first deployment may take a few minutes
- You'll see a banner at the top saying "Your site is ready to be published at..."

### 4. Trigger Documentation Generation

If the `gh-pages` branch doesn't exist yet, you need to run the documentation workflow:

1. Go to the **Actions** tab
2. Select **Generate Documentation** workflow
3. Click **Run workflow**
4. Select the branch (usually `main`)
5. Click **Run workflow**

This will:
- Generate the Doxygen documentation
- Create the `gh-pages` branch (if it doesn't exist)
- Deploy the documentation to GitHub Pages

### 5. Verify Deployment

Once deployed, the documentation will be available at:

```
https://r82-labs.github.io/datelib/
```

You can check the deployment status:
1. Go to **Settings** → **Pages**
2. Look for the "Your site is live at..." message

## Automatic Updates

The documentation will be automatically updated when:
- A new release is published (via the release workflow)
- The documentation workflow is manually triggered

## Troubleshooting

### "There isn't a GitHub Pages site here" Error

If you see this error when visiting the documentation URL:

1. **Check the branch exists**: Go to the repository and check if the `gh-pages` branch exists
2. **Run the workflow**: Trigger the "Generate Documentation" workflow manually
3. **Wait for deployment**: GitHub Pages deployment can take a few minutes
4. **Check deployment status**: Go to Settings → Pages to see deployment status

### Documentation Not Updating

If the documentation isn't updating after running the workflow:

1. Go to **Actions** tab and check if the workflow completed successfully
2. Check the workflow logs for any errors
3. Verify the `gh-pages` branch has new commits
4. Go to **Settings** → **Pages** and check the deployment status

### Permission Denied Errors

If the workflow fails with permission errors:

1. Go to **Settings** → **Actions** → **General**
2. Under "Workflow permissions", select **Read and write permissions**
3. Click **Save**
4. Re-run the workflow

## Additional Information

- The `.nojekyll` file in the documentation prevents GitHub Pages from processing the HTML with Jekyll
- The documentation is static HTML generated by Doxygen
- Each deployment completely replaces the previous documentation
